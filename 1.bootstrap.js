(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./index.css":
/*!*******************!*\
  !*** ./index.css ***!
  \*******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !./node_modules/css-loader/dist/cjs.js!./index.css */ \"./node_modules/css-loader/dist/cjs.js!./index.css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"], options);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locals || {});\n\n//# sourceURL=webpack:///./index.css?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var wasm_game_of_life__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-game-of-life */ \"./node_modules/wasm-game-of-life/wasm_game_of_life.js\");\n/* harmony import */ var wasm_game_of_life_wasm_game_of_life_bg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wasm-game-of-life/wasm_game_of_life_bg */ \"./node_modules/wasm-game-of-life/wasm_game_of_life_bg.wasm\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var normalize_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! normalize.css */ \"./node_modules/normalize.css/normalize.css\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.css */ \"./index.css\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\n\n\n\n\n\n\nconst hexStringToHex = (str) => parseInt(str.replace(/^#/, ''), 16);\n\nconst INITIAL_ACTIVE_COLOR = '#FFFFFF';\nconst INITIAL_INACTIVE_COLOR = '#000000';\nconst INITIAL_BACKGROUND_COLOR = '#000000';\nconst INITIAL_GRID_COLOR = '#888888';\n\nconst universe = wasm_game_of_life__WEBPACK_IMPORTED_MODULE_0__[\"Universe\"].new();\nconst width = universe.width();\nconst height = universe.height();\nconst activeColor = document.querySelector('#active-color');\nactiveColor.value = INITIAL_ACTIVE_COLOR;\nconst inactiveColor = document.querySelector('#inactive-color');\ninactiveColor.value = INITIAL_INACTIVE_COLOR;\nconst backgroundColor = document.querySelector('#background-color');\nbackgroundColor.value = INITIAL_BACKGROUND_COLOR;\nconst gridColor = document.querySelector('#grid-color');\ngridColor.value = INITIAL_GRID_COLOR;\n\nfunction resizeRendererToDisplaySize(renderer) {\n  const canvas = renderer.domElement;\n  const pixelRatio = window.devicePixelRatio;\n  const width = (canvas.clientWidth * pixelRatio) | 0;\n  const height = (canvas.clientHeight * pixelRatio) | 0;\n  const needResize = canvas.width !== width || canvas.height !== height;\n  if (needResize) {\n    renderer.setSize(width, height, false);\n  }\n  return needResize;\n}\n\nconst canvas = document.querySelector('#game-of-life-canvas');\nconst renderer = new three__WEBPACK_IMPORTED_MODULE_2__[\"WebGLRenderer\"]({ canvas });\n\nconst fov = 75;\nconst aspect = 2;\nconst near = 0.1;\nconst far = 256;\nconst camera = new three__WEBPACK_IMPORTED_MODULE_2__[\"PerspectiveCamera\"](fov, aspect, near, far);\n\nconst controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_5__[\"OrbitControls\"](camera, renderer.domElement);\n\ncamera.position.setY(48);\n\ncontrols.update();\n\nconst scene = new three__WEBPACK_IMPORTED_MODULE_2__[\"Scene\"]();\nscene.background = new three__WEBPACK_IMPORTED_MODULE_2__[\"Color\"](0x000000);\n\nrenderer.render(scene, camera);\n\nconst geometry = new three__WEBPACK_IMPORTED_MODULE_2__[\"BoxGeometry\"](1, 1, 1);\nconst activeMaterial = new three__WEBPACK_IMPORTED_MODULE_2__[\"MeshPhysicalMaterial\"]({ color: 0xffffff });\nconst inactiveMaterial = new three__WEBPACK_IMPORTED_MODULE_2__[\"MeshPhysicalMaterial\"]({ color: 0x444444 });\n\nactiveColor.addEventListener('change', (e) => {\n  const hex = hexStringToHex(e.target.value);\n  activeMaterial.color.setHex(hex);\n});\n\ninactiveColor.addEventListener('change', (e) => {\n  const hex = hexStringToHex(e.target.value);\n  inactiveMaterial.color.setHex(hex);\n});\n\nbackgroundColor.addEventListener('change', (e) => {\n  const hex = hexStringToHex(e.target.value);\n  scene.background = new three__WEBPACK_IMPORTED_MODULE_2__[\"Color\"](hex);\n});\n\nconst getIndex = (row, column) => {\n  return row * width + column;\n};\n\nconst bitIsSet = (n, arr) => {\n  const byte = Math.floor(n / 8);\n  const mask = 1 << n % 8;\n  return (arr[byte] & mask) === mask;\n};\n\nconst GRID_SIZE = 64;\nconst GRID_DIVISIONS = 64;\n\nconst gridHelper = new three__WEBPACK_IMPORTED_MODULE_2__[\"GridHelper\"](\n  GRID_SIZE,\n  GRID_DIVISIONS,\n  INITIAL_GRID_COLOR,\n  INITIAL_GRID_COLOR,\n);\n\ngridColor.addEventListener('change', (e) => {\n  const hex = hexStringToHex(e.target.value);\n  gridHelper.remove();\n  const newGridHelper = new three__WEBPACK_IMPORTED_MODULE_2__[\"GridHelper\"](\n    GRID_SIZE,\n    GRID_DIVISIONS,\n    hex,\n    hex,\n  );\n  scene.add(newGridHelper);\n});\n\nconst color = 0xffffff;\nconst intensity = 1;\nconst light1 = new three__WEBPACK_IMPORTED_MODULE_2__[\"DirectionalLight\"](color, intensity);\nlight1.position.set(0, 2, 4);\n\nconst drawCells = (time) => {\n  const cellsPtr = universe.cells();\n  const cells = new Uint8Array(wasm_game_of_life_wasm_game_of_life_bg__WEBPACK_IMPORTED_MODULE_1__[\"memory\"].buffer, cellsPtr, (width * height) / 8);\n\n  for (let row = 0; row < height; row++) {\n    for (let col = 0; col < width; col++) {\n      const idx = getIndex(row, col);\n      if (!bitIsSet(idx, cells)) continue;\n      const cube = new three__WEBPACK_IMPORTED_MODULE_2__[\"Mesh\"](geometry, activeMaterial);\n      cube.position.set(row - 32 + 0.5, 0.5, col - 32 + 0.5);\n      cube.startAt = time;\n      scene.add(cube);\n    }\n  }\n};\n\nfunction render(time) {\n  time *= 0.005; // convert time to seconds\n  universe.tick();\n  scene.children.forEach((child) => {\n    if (child.type === 'Mesh') {\n      if (time - child.startAt < 1) {\n        child.material = inactiveMaterial;\n        child.scale.setY(Math.sin((time - child.startAt) * Math.PI));\n        child.position.setY(Math.sin((time - child.startAt) * Math.PI) / 2);\n      } else {\n        scene.remove(child);\n      }\n    }\n  });\n  // scene.remove.apply(scene, scene.children);\n  scene.add(light1, gridHelper);\n  drawCells(time);\n\n  if (resizeRendererToDisplaySize(renderer)) {\n    const canvas = renderer.domElement;\n    camera.aspect = canvas.clientWidth / canvas.clientHeight;\n    camera.updateProjectionMatrix();\n  }\n\n  controls.update();\n  renderer.render(scene, camera);\n  requestAnimationFrame(render);\n}\n\nrequestAnimationFrame(render);\n\ndrawCells(0);\n\nconsole.log(scene);\n\n\n//# sourceURL=webpack:///./index.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./index.css":
/*!*********************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./index.css ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \"html,\\nbody {\\n  height: 100%;\\n}\\n\\n#fps {\\n  white-space: pre;\\n  font-family: monospace;\\n}\\n\\n#game-of-life-canvas {\\n  width: 100%;\\n  height: 100%; /* Fallback for browsers that do not support Custom Properties */\\n  /* height: calc(var(--vh, 1vh) * 100); */\\n}\\n\\ninput[type='color'] {\\n  position: absolute;\\n  right: 1rem;\\n}\\n\\n#active-color {\\n  top: 1rem;\\n}\\n\\n#inactive-color {\\n  top: 3rem;\\n}\\n\\n#background-color {\\n  top: 5rem;\\n}\\n\\n#grid-color {\\n  top: 7rem;\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack:///./index.css?./node_modules/css-loader/dist/cjs.js");

/***/ })

}]);